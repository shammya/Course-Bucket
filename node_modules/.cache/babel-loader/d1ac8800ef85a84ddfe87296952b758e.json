{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = exports.MTableHeader = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TableHead = _interopRequireDefault(require(\"@material-ui/core/TableHead\"));\n\nvar _TableRow = _interopRequireDefault(require(\"@material-ui/core/TableRow\"));\n\nvar _TableCell = _interopRequireDefault(require(\"@material-ui/core/TableCell\"));\n\nvar _TableSortLabel = _interopRequireDefault(require(\"@material-ui/core/TableSortLabel\"));\n\nvar _Checkbox = _interopRequireDefault(require(\"@material-ui/core/Checkbox\"));\n\nvar _withStyles = _interopRequireDefault(require(\"@material-ui/core/styles/withStyles\"));\n\nvar _reactBeautifulDnd = require(\"react-beautiful-dnd\");\n\nvar _core = require(\"@material-ui/core\");\n\nvar CommonValues = _interopRequireWildcard(require(\"../utils/common-values\"));\n\nvar _fastDeepEqual = _interopRequireDefault(require(\"fast-deep-equal\"));\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/* eslint-enable no-unused-vars */\n\n\nvar MTableHeader = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2.default)(MTableHeader, _React$Component);\n\n  var _super = _createSuper(MTableHeader);\n\n  function MTableHeader(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MTableHeader);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleMouseDown\", function (e, columnDef) {\n      _this.setState({\n        lastAdditionalWidth: columnDef.tableData.additionalWidth,\n        lastX: e.clientX,\n        resizingColumnDef: columnDef\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleMouseMove\", function (e) {\n      if (!_this.state.resizingColumnDef) {\n        return;\n      }\n\n      var additionalWidth = _this.state.lastAdditionalWidth + e.clientX - _this.state.lastX;\n      additionalWidth = Math.min(_this.state.resizingColumnDef.maxWidth || additionalWidth, additionalWidth);\n\n      if (_this.state.resizingColumnDef.tableData.additionalWidth !== additionalWidth) {\n        _this.props.onColumnResized(_this.state.resizingColumnDef.tableData.id, additionalWidth);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleMouseUp\", function (e) {\n      _this.setState({\n        resizingColumnDef: undefined\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCellStyle\", function (columnDef) {\n      var width = CommonValues.reducePercentsInCalc(columnDef.tableData.width, _this.props.scrollWidth);\n      var style = (0, _objectSpread2.default)({}, _this.props.headerStyle, columnDef.headerStyle, {\n        boxSizing: \"border-box\",\n        width: width,\n        maxWidth: columnDef.maxWidth,\n        minWidth: columnDef.minWidth\n      });\n\n      if (_this.props.options.tableLayout === \"fixed\" && _this.props.options.columnResizable && columnDef.resizable !== false) {\n        style.paddingRight = 2;\n      }\n\n      return style;\n    });\n    _this.state = {\n      lastX: 0,\n      resizingColumnDef: undefined\n    };\n    return _this;\n  } // shouldComponentUpdate(nextProps, nextState){\n  //   return !equal(nextProps, this.props) || !equal(nextState, this.state);\n  // }\n\n\n  (0, _createClass2.default)(MTableHeader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener(\"mousemove\", this.handleMouseMove);\n      document.addEventListener(\"mouseup\", this.handleMouseUp);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"mousemove\", this.handleMouseMove);\n      document.removeEventListener(\"mouseup\", this.handleMouseUp);\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      var _this2 = this;\n\n      var size = this.props.options.padding === \"default\" ? \"medium\" : \"small\";\n      var mapArr = this.props.columns.filter(function (columnDef) {\n        return !columnDef.hidden && !(columnDef.tableData.groupOrder > -1);\n      }).sort(function (a, b) {\n        return a.tableData.columnOrder - b.tableData.columnOrder;\n      }).map(function (columnDef, index) {\n        var content = columnDef.title;\n\n        if (_this2.props.draggable) {\n          content = /*#__PURE__*/React.createElement(_reactBeautifulDnd.Draggable, {\n            key: columnDef.tableData.id,\n            draggableId: columnDef.tableData.id.toString(),\n            index: index\n          }, function (provided, snapshot) {\n            return /*#__PURE__*/React.createElement(\"div\", (0, _extends2.default)({\n              ref: provided.innerRef\n            }, provided.draggableProps, provided.dragHandleProps), columnDef.title);\n          });\n        }\n\n        if (columnDef.sorting !== false && _this2.props.sorting) {\n          content = /*#__PURE__*/React.createElement(_TableSortLabel.default, {\n            IconComponent: _this2.props.icons.SortArrow,\n            active: _this2.props.orderBy === columnDef.tableData.id,\n            direction: _this2.props.orderDirection || \"asc\",\n            onClick: function onClick() {\n              var orderDirection = columnDef.tableData.id !== _this2.props.orderBy ? \"asc\" : _this2.props.orderDirection === \"asc\" ? \"desc\" : _this2.props.orderDirection === \"desc\" && _this2.props.thirdSortClick ? \"\" : _this2.props.orderDirection === \"desc\" && !_this2.props.thirdSortClick ? \"asc\" : _this2.props.orderDirection === \"\" ? \"asc\" : \"desc\";\n\n              _this2.props.onOrderChange(columnDef.tableData.id, orderDirection);\n            }\n          }, content);\n        }\n\n        if (columnDef.tooltip) {\n          content = /*#__PURE__*/React.createElement(_core.Tooltip, {\n            title: columnDef.tooltip,\n            placement: \"bottom\"\n          }, /*#__PURE__*/React.createElement(\"span\", null, content));\n        }\n\n        if (_this2.props.options.tableLayout === \"fixed\" && _this2.props.options.columnResizable && columnDef.resizable !== false) {\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\"\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              flex: 1\n            }\n          }, content), /*#__PURE__*/React.createElement(\"div\", null), /*#__PURE__*/React.createElement(_this2.props.icons.Resize, {\n            style: {\n              cursor: \"col-resize\",\n              color: _this2.state.resizingColumnDef && _this2.state.resizingColumnDef.tableData.id === columnDef.tableData.id ? _this2.props.theme.palette.primary.main : \"inherit\"\n            },\n            onMouseDown: function onMouseDown(e) {\n              return _this2.handleMouseDown(e, columnDef);\n            }\n          }));\n        }\n\n        var cellAlignment = columnDef.align !== undefined ? columnDef.align : [\"numeric\", \"currency\"].indexOf(columnDef.type) !== -1 ? \"right\" : \"left\";\n        return /*#__PURE__*/React.createElement(_TableCell.default, {\n          key: columnDef.tableData.id,\n          align: cellAlignment,\n          className: _this2.props.classes.header,\n          style: _this2.getCellStyle(columnDef),\n          size: size\n        }, content);\n      });\n      return mapArr;\n    }\n  }, {\n    key: \"renderActionsHeader\",\n    value: function renderActionsHeader() {\n      var localization = (0, _objectSpread2.default)({}, MTableHeader.defaultProps.localization, this.props.localization);\n      var width = CommonValues.actionsColumnWidth(this.props);\n      return /*#__PURE__*/React.createElement(_TableCell.default, {\n        key: \"key-actions-column\",\n        padding: \"checkbox\",\n        className: this.props.classes.header,\n        style: (0, _objectSpread2.default)({}, this.props.headerStyle, {\n          width: width,\n          textAlign: \"center\",\n          boxSizing: \"border-box\"\n        })\n      }, /*#__PURE__*/React.createElement(_TableSortLabel.default, {\n        hideSortIcon: true,\n        disabled: true\n      }, localization.actions));\n    }\n  }, {\n    key: \"renderSelectionHeader\",\n    value: function renderSelectionHeader() {\n      var _this3 = this;\n\n      var selectionWidth = CommonValues.selectionMaxWidth(this.props, this.props.treeDataMaxLevel);\n      return /*#__PURE__*/React.createElement(_TableCell.default, {\n        padding: \"none\",\n        key: \"key-selection-column\",\n        className: this.props.classes.header,\n        style: (0, _objectSpread2.default)({}, this.props.headerStyle, {\n          width: selectionWidth\n        })\n      }, this.props.showSelectAllCheckbox && /*#__PURE__*/React.createElement(_Checkbox.default, (0, _extends2.default)({\n        indeterminate: this.props.selectedCount > 0 && this.props.selectedCount < this.props.dataCount,\n        checked: this.props.dataCount > 0 && this.props.selectedCount === this.props.dataCount,\n        onChange: function onChange(event, checked) {\n          return _this3.props.onAllSelected && _this3.props.onAllSelected(checked);\n        }\n      }, this.props.options.headerSelectionProps)));\n    }\n  }, {\n    key: \"renderDetailPanelColumnCell\",\n    value: function renderDetailPanelColumnCell() {\n      return /*#__PURE__*/React.createElement(_TableCell.default, {\n        padding: \"none\",\n        key: \"key-detail-panel-column\",\n        className: this.props.classes.header,\n        style: (0, _objectSpread2.default)({}, this.props.headerStyle)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var headers = this.renderHeader();\n\n      if (this.props.hasSelection) {\n        headers.splice(0, 0, this.renderSelectionHeader());\n      }\n\n      if (this.props.showActionsColumn) {\n        if (this.props.actionsHeaderIndex >= 0) {\n          var endPos = 0;\n\n          if (this.props.hasSelection) {\n            endPos = 1;\n          }\n\n          headers.splice(this.props.actionsHeaderIndex + endPos, 0, this.renderActionsHeader());\n        } else if (this.props.actionsHeaderIndex === -1) {\n          headers.push(this.renderActionsHeader());\n        }\n      }\n\n      if (this.props.hasDetailPanel) {\n        if (this.props.detailPanelColumnAlignment === \"right\") {\n          headers.push(this.renderDetailPanelColumnCell());\n        } else {\n          headers.splice(0, 0, this.renderDetailPanelColumnCell());\n        }\n      }\n\n      if (this.props.isTreeData > 0) {\n        headers.splice(0, 0, /*#__PURE__*/React.createElement(_TableCell.default, {\n          padding: \"none\",\n          key: \"key-tree-data-header\",\n          className: this.props.classes.header,\n          style: (0, _objectSpread2.default)({}, this.props.headerStyle)\n        }));\n      }\n\n      this.props.columns.filter(function (columnDef) {\n        return columnDef.tableData.groupOrder > -1;\n      }).forEach(function (columnDef) {\n        headers.splice(0, 0, /*#__PURE__*/React.createElement(_TableCell.default, {\n          padding: \"checkbox\",\n          key: \"key-group-header\" + columnDef.tableData.id,\n          className: _this4.props.classes.header\n        }));\n      });\n      return /*#__PURE__*/React.createElement(_TableHead.default, null, /*#__PURE__*/React.createElement(_TableRow.default, null, headers));\n    }\n  }]);\n  return MTableHeader;\n}(React.Component);\n\nexports.MTableHeader = MTableHeader;\nMTableHeader.defaultProps = {\n  dataCount: 0,\n  hasSelection: false,\n  headerStyle: {},\n  selectedCount: 0,\n  sorting: true,\n  localization: {\n    actions: \"Actions\"\n  },\n  orderBy: undefined,\n  orderDirection: \"asc\",\n  actionsHeaderIndex: 0,\n  detailPanelColumnAlignment: \"left\",\n  draggable: true,\n  thirdSortClick: true\n};\nMTableHeader.propTypes = {\n  columns: _propTypes.default.array.isRequired,\n  dataCount: _propTypes.default.number,\n  hasDetailPanel: _propTypes.default.bool.isRequired,\n  detailPanelColumnAlignment: _propTypes.default.string,\n  hasSelection: _propTypes.default.bool,\n  headerStyle: _propTypes.default.object,\n  localization: _propTypes.default.object,\n  selectedCount: _propTypes.default.number,\n  sorting: _propTypes.default.bool,\n  onAllSelected: _propTypes.default.func,\n  onOrderChange: _propTypes.default.func,\n  orderBy: _propTypes.default.number,\n  orderDirection: _propTypes.default.string,\n  actionsHeaderIndex: _propTypes.default.number,\n  showActionsColumn: _propTypes.default.bool,\n  showSelectAllCheckbox: _propTypes.default.bool,\n  draggable: _propTypes.default.bool,\n  thirdSortClick: _propTypes.default.bool,\n  tooltip: _propTypes.default.string\n};\n\nvar styles = function styles(theme) {\n  return {\n    header: {\n      // display: 'inline-block',\n      position: \"sticky\",\n      top: 0,\n      zIndex: 10,\n      backgroundColor: theme.palette.background.paper // Change according to theme,\n\n    }\n  };\n};\n\nexports.styles = styles;\n\nvar _default = (0, _withStyles.default)(styles, {\n  withTheme: true\n})(MTableHeader);\n\nexports.default = _default;","map":{"version":3,"sources":["D:/program/java/coursebucket/node_modules/material-table/dist/components/m-table-header.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","styles","MTableHeader","_extends2","_objectSpread2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","React","_propTypes","_TableHead","_TableRow","_TableCell","_TableSortLabel","_Checkbox","_withStyles","_reactBeautifulDnd","_core","CommonValues","_fastDeepEqual","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","_React$Component","_super","props","_this","columnDef","setState","lastAdditionalWidth","tableData","additionalWidth","lastX","clientX","resizingColumnDef","state","Math","min","maxWidth","onColumnResized","id","undefined","width","reducePercentsInCalc","scrollWidth","style","headerStyle","boxSizing","minWidth","options","tableLayout","columnResizable","resizable","paddingRight","key","componentDidMount","document","addEventListener","handleMouseMove","handleMouseUp","componentWillUnmount","removeEventListener","renderHeader","_this2","size","padding","mapArr","columns","filter","hidden","groupOrder","sort","a","b","columnOrder","map","index","content","title","draggable","createElement","Draggable","draggableId","toString","provided","snapshot","ref","innerRef","draggableProps","dragHandleProps","sorting","IconComponent","icons","SortArrow","active","orderBy","direction","orderDirection","onClick","thirdSortClick","onOrderChange","tooltip","Tooltip","placement","display","alignItems","flex","Resize","cursor","color","theme","palette","primary","main","onMouseDown","handleMouseDown","cellAlignment","align","indexOf","type","className","classes","header","getCellStyle","renderActionsHeader","localization","defaultProps","actionsColumnWidth","textAlign","hideSortIcon","disabled","actions","renderSelectionHeader","_this3","selectionWidth","selectionMaxWidth","treeDataMaxLevel","showSelectAllCheckbox","indeterminate","selectedCount","dataCount","checked","onChange","event","onAllSelected","headerSelectionProps","renderDetailPanelColumnCell","render","_this4","headers","hasSelection","splice","showActionsColumn","actionsHeaderIndex","endPos","push","hasDetailPanel","detailPanelColumnAlignment","isTreeData","forEach","Component","propTypes","array","isRequired","number","bool","string","object","func","position","top","zIndex","backgroundColor","background","paper","_default","withTheme"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = exports.MTableHeader = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TableHead = _interopRequireDefault(require(\"@material-ui/core/TableHead\"));\n\nvar _TableRow = _interopRequireDefault(require(\"@material-ui/core/TableRow\"));\n\nvar _TableCell = _interopRequireDefault(require(\"@material-ui/core/TableCell\"));\n\nvar _TableSortLabel = _interopRequireDefault(require(\"@material-ui/core/TableSortLabel\"));\n\nvar _Checkbox = _interopRequireDefault(require(\"@material-ui/core/Checkbox\"));\n\nvar _withStyles = _interopRequireDefault(require(\"@material-ui/core/styles/withStyles\"));\n\nvar _reactBeautifulDnd = require(\"react-beautiful-dnd\");\n\nvar _core = require(\"@material-ui/core\");\n\nvar CommonValues = _interopRequireWildcard(require(\"../utils/common-values\"));\n\nvar _fastDeepEqual = _interopRequireDefault(require(\"fast-deep-equal\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-enable no-unused-vars */\nvar MTableHeader = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2.default)(MTableHeader, _React$Component);\n\n  var _super = _createSuper(MTableHeader);\n\n  function MTableHeader(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MTableHeader);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleMouseDown\", function (e, columnDef) {\n      _this.setState({\n        lastAdditionalWidth: columnDef.tableData.additionalWidth,\n        lastX: e.clientX,\n        resizingColumnDef: columnDef\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleMouseMove\", function (e) {\n      if (!_this.state.resizingColumnDef) {\n        return;\n      }\n\n      var additionalWidth = _this.state.lastAdditionalWidth + e.clientX - _this.state.lastX;\n      additionalWidth = Math.min(_this.state.resizingColumnDef.maxWidth || additionalWidth, additionalWidth);\n\n      if (_this.state.resizingColumnDef.tableData.additionalWidth !== additionalWidth) {\n        _this.props.onColumnResized(_this.state.resizingColumnDef.tableData.id, additionalWidth);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleMouseUp\", function (e) {\n      _this.setState({\n        resizingColumnDef: undefined\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCellStyle\", function (columnDef) {\n      var width = CommonValues.reducePercentsInCalc(columnDef.tableData.width, _this.props.scrollWidth);\n      var style = (0, _objectSpread2.default)({}, _this.props.headerStyle, columnDef.headerStyle, {\n        boxSizing: \"border-box\",\n        width: width,\n        maxWidth: columnDef.maxWidth,\n        minWidth: columnDef.minWidth\n      });\n\n      if (_this.props.options.tableLayout === \"fixed\" && _this.props.options.columnResizable && columnDef.resizable !== false) {\n        style.paddingRight = 2;\n      }\n\n      return style;\n    });\n    _this.state = {\n      lastX: 0,\n      resizingColumnDef: undefined\n    };\n    return _this;\n  } // shouldComponentUpdate(nextProps, nextState){\n  //   return !equal(nextProps, this.props) || !equal(nextState, this.state);\n  // }\n\n\n  (0, _createClass2.default)(MTableHeader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener(\"mousemove\", this.handleMouseMove);\n      document.addEventListener(\"mouseup\", this.handleMouseUp);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"mousemove\", this.handleMouseMove);\n      document.removeEventListener(\"mouseup\", this.handleMouseUp);\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      var _this2 = this;\n\n      var size = this.props.options.padding === \"default\" ? \"medium\" : \"small\";\n      var mapArr = this.props.columns.filter(function (columnDef) {\n        return !columnDef.hidden && !(columnDef.tableData.groupOrder > -1);\n      }).sort(function (a, b) {\n        return a.tableData.columnOrder - b.tableData.columnOrder;\n      }).map(function (columnDef, index) {\n        var content = columnDef.title;\n\n        if (_this2.props.draggable) {\n          content = /*#__PURE__*/React.createElement(_reactBeautifulDnd.Draggable, {\n            key: columnDef.tableData.id,\n            draggableId: columnDef.tableData.id.toString(),\n            index: index\n          }, function (provided, snapshot) {\n            return /*#__PURE__*/React.createElement(\"div\", (0, _extends2.default)({\n              ref: provided.innerRef\n            }, provided.draggableProps, provided.dragHandleProps), columnDef.title);\n          });\n        }\n\n        if (columnDef.sorting !== false && _this2.props.sorting) {\n          content = /*#__PURE__*/React.createElement(_TableSortLabel.default, {\n            IconComponent: _this2.props.icons.SortArrow,\n            active: _this2.props.orderBy === columnDef.tableData.id,\n            direction: _this2.props.orderDirection || \"asc\",\n            onClick: function onClick() {\n              var orderDirection = columnDef.tableData.id !== _this2.props.orderBy ? \"asc\" : _this2.props.orderDirection === \"asc\" ? \"desc\" : _this2.props.orderDirection === \"desc\" && _this2.props.thirdSortClick ? \"\" : _this2.props.orderDirection === \"desc\" && !_this2.props.thirdSortClick ? \"asc\" : _this2.props.orderDirection === \"\" ? \"asc\" : \"desc\";\n\n              _this2.props.onOrderChange(columnDef.tableData.id, orderDirection);\n            }\n          }, content);\n        }\n\n        if (columnDef.tooltip) {\n          content = /*#__PURE__*/React.createElement(_core.Tooltip, {\n            title: columnDef.tooltip,\n            placement: \"bottom\"\n          }, /*#__PURE__*/React.createElement(\"span\", null, content));\n        }\n\n        if (_this2.props.options.tableLayout === \"fixed\" && _this2.props.options.columnResizable && columnDef.resizable !== false) {\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\"\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              flex: 1\n            }\n          }, content), /*#__PURE__*/React.createElement(\"div\", null), /*#__PURE__*/React.createElement(_this2.props.icons.Resize, {\n            style: {\n              cursor: \"col-resize\",\n              color: _this2.state.resizingColumnDef && _this2.state.resizingColumnDef.tableData.id === columnDef.tableData.id ? _this2.props.theme.palette.primary.main : \"inherit\"\n            },\n            onMouseDown: function onMouseDown(e) {\n              return _this2.handleMouseDown(e, columnDef);\n            }\n          }));\n        }\n\n        var cellAlignment = columnDef.align !== undefined ? columnDef.align : [\"numeric\", \"currency\"].indexOf(columnDef.type) !== -1 ? \"right\" : \"left\";\n        return /*#__PURE__*/React.createElement(_TableCell.default, {\n          key: columnDef.tableData.id,\n          align: cellAlignment,\n          className: _this2.props.classes.header,\n          style: _this2.getCellStyle(columnDef),\n          size: size\n        }, content);\n      });\n      return mapArr;\n    }\n  }, {\n    key: \"renderActionsHeader\",\n    value: function renderActionsHeader() {\n      var localization = (0, _objectSpread2.default)({}, MTableHeader.defaultProps.localization, this.props.localization);\n      var width = CommonValues.actionsColumnWidth(this.props);\n      return /*#__PURE__*/React.createElement(_TableCell.default, {\n        key: \"key-actions-column\",\n        padding: \"checkbox\",\n        className: this.props.classes.header,\n        style: (0, _objectSpread2.default)({}, this.props.headerStyle, {\n          width: width,\n          textAlign: \"center\",\n          boxSizing: \"border-box\"\n        })\n      }, /*#__PURE__*/React.createElement(_TableSortLabel.default, {\n        hideSortIcon: true,\n        disabled: true\n      }, localization.actions));\n    }\n  }, {\n    key: \"renderSelectionHeader\",\n    value: function renderSelectionHeader() {\n      var _this3 = this;\n\n      var selectionWidth = CommonValues.selectionMaxWidth(this.props, this.props.treeDataMaxLevel);\n      return /*#__PURE__*/React.createElement(_TableCell.default, {\n        padding: \"none\",\n        key: \"key-selection-column\",\n        className: this.props.classes.header,\n        style: (0, _objectSpread2.default)({}, this.props.headerStyle, {\n          width: selectionWidth\n        })\n      }, this.props.showSelectAllCheckbox && /*#__PURE__*/React.createElement(_Checkbox.default, (0, _extends2.default)({\n        indeterminate: this.props.selectedCount > 0 && this.props.selectedCount < this.props.dataCount,\n        checked: this.props.dataCount > 0 && this.props.selectedCount === this.props.dataCount,\n        onChange: function onChange(event, checked) {\n          return _this3.props.onAllSelected && _this3.props.onAllSelected(checked);\n        }\n      }, this.props.options.headerSelectionProps)));\n    }\n  }, {\n    key: \"renderDetailPanelColumnCell\",\n    value: function renderDetailPanelColumnCell() {\n      return /*#__PURE__*/React.createElement(_TableCell.default, {\n        padding: \"none\",\n        key: \"key-detail-panel-column\",\n        className: this.props.classes.header,\n        style: (0, _objectSpread2.default)({}, this.props.headerStyle)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var headers = this.renderHeader();\n\n      if (this.props.hasSelection) {\n        headers.splice(0, 0, this.renderSelectionHeader());\n      }\n\n      if (this.props.showActionsColumn) {\n        if (this.props.actionsHeaderIndex >= 0) {\n          var endPos = 0;\n\n          if (this.props.hasSelection) {\n            endPos = 1;\n          }\n\n          headers.splice(this.props.actionsHeaderIndex + endPos, 0, this.renderActionsHeader());\n        } else if (this.props.actionsHeaderIndex === -1) {\n          headers.push(this.renderActionsHeader());\n        }\n      }\n\n      if (this.props.hasDetailPanel) {\n        if (this.props.detailPanelColumnAlignment === \"right\") {\n          headers.push(this.renderDetailPanelColumnCell());\n        } else {\n          headers.splice(0, 0, this.renderDetailPanelColumnCell());\n        }\n      }\n\n      if (this.props.isTreeData > 0) {\n        headers.splice(0, 0, /*#__PURE__*/React.createElement(_TableCell.default, {\n          padding: \"none\",\n          key: \"key-tree-data-header\",\n          className: this.props.classes.header,\n          style: (0, _objectSpread2.default)({}, this.props.headerStyle)\n        }));\n      }\n\n      this.props.columns.filter(function (columnDef) {\n        return columnDef.tableData.groupOrder > -1;\n      }).forEach(function (columnDef) {\n        headers.splice(0, 0, /*#__PURE__*/React.createElement(_TableCell.default, {\n          padding: \"checkbox\",\n          key: \"key-group-header\" + columnDef.tableData.id,\n          className: _this4.props.classes.header\n        }));\n      });\n      return /*#__PURE__*/React.createElement(_TableHead.default, null, /*#__PURE__*/React.createElement(_TableRow.default, null, headers));\n    }\n  }]);\n  return MTableHeader;\n}(React.Component);\n\nexports.MTableHeader = MTableHeader;\nMTableHeader.defaultProps = {\n  dataCount: 0,\n  hasSelection: false,\n  headerStyle: {},\n  selectedCount: 0,\n  sorting: true,\n  localization: {\n    actions: \"Actions\"\n  },\n  orderBy: undefined,\n  orderDirection: \"asc\",\n  actionsHeaderIndex: 0,\n  detailPanelColumnAlignment: \"left\",\n  draggable: true,\n  thirdSortClick: true\n};\nMTableHeader.propTypes = {\n  columns: _propTypes.default.array.isRequired,\n  dataCount: _propTypes.default.number,\n  hasDetailPanel: _propTypes.default.bool.isRequired,\n  detailPanelColumnAlignment: _propTypes.default.string,\n  hasSelection: _propTypes.default.bool,\n  headerStyle: _propTypes.default.object,\n  localization: _propTypes.default.object,\n  selectedCount: _propTypes.default.number,\n  sorting: _propTypes.default.bool,\n  onAllSelected: _propTypes.default.func,\n  onOrderChange: _propTypes.default.func,\n  orderBy: _propTypes.default.number,\n  orderDirection: _propTypes.default.string,\n  actionsHeaderIndex: _propTypes.default.number,\n  showActionsColumn: _propTypes.default.bool,\n  showSelectAllCheckbox: _propTypes.default.bool,\n  draggable: _propTypes.default.bool,\n  thirdSortClick: _propTypes.default.bool,\n  tooltip: _propTypes.default.string\n};\n\nvar styles = function styles(theme) {\n  return {\n    header: {\n      // display: 'inline-block',\n      position: \"sticky\",\n      top: 0,\n      zIndex: 10,\n      backgroundColor: theme.palette.background.paper // Change according to theme,\n\n    }\n  };\n};\n\nexports.styles = styles;\n\nvar _default = (0, _withStyles.default)(styles, {\n  withTheme: true\n})(MTableHeader);\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}